---
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

const worksEntries = await getCollection("works");

import Layout from "@layouts/Layout.astro";
import buttonToResume from "../../assets/images/button-to-resume.svg";
---

<Layout title="Réalisations">
  <main class="container max-w-6xl">
    <div class="flex justify-between items-center pt-3 pb-3">
      <h1 class="uppercase">Réalisations</h1>
      <a href="" class="hover:opacity-75 hover:scale-95 transform-gpu transition-all">
        <Image src={buttonToResume} alt="Voir mon CV" />
      </a>
    </div>
    <ul class="columns-2 md:columns-3 gap-3 md:gap-6">
      {
        worksEntries.map((worksEntry) => (
          <li class="w-full aspect-auto mb-3 md:mb-6">
            <a href={`/works/${worksEntry.slug}`} title={`En savoir plus sur ${worksEntry.data.title}`}>
              <Image src={worksEntry.data.thumbnail} alt={worksEntry.data.title} class="grayscale hover:grayscale-0 rounded hover:rounded-lg transition-all" />
            </a>
          </li>
        ))
      }
    </ul>
  </main>
</Layout>
